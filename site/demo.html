
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <link href='css/site.css' rel='stylesheet' />

    <link rel='stylesheet' href='../css/lite.css'>
    
    <!--<link rel='stylesheet' href='css/vendor/prism.css'>-->
    <script src='scripts/vendor/prism.js'></script>

    <script src='scripts/vendor/marked.js'></script>

</head>
<body>
    <div class='site-header'>
        <a href='../index.html'>lite</a>
    </div>
    <div class='top-nav'>
        <a href='demo.html'>demo</a>
        <a href='code.html'>code</a>
        <a href='tests.html'>tests</a>
    </div>
    <div id='content' class='site-content'>
        <div id='demo-text'></div>
        <div>
            <pre class='language-javascript'>
                <code id='demo-code'></code>
            </pre>
        </div>
    </div>
</body>

<script type='module'>
    import { lite } from '../deploy/lite.js';

    (()=>{
    let demoJS = function() {
        let contentView = lite.extend({
            contentUrl : 'demo.md',
            onContentLoaded : function(content) { 
                console.log('content loaded');
                this.content = marked(content);
            },
            onContentBound : function(content) { 
                console.log('content bound');
            }
        });
        new contentView().attach(document.getElementById('demo-text'));
        
        let codeView = lite.extend({
            // .toString cuts off the variable declaration, so we add it back in for clarity
            content : '    let demoJS = ' + demoJS.toString(),
            onContentLoaded : function(content) { 
                this.loadStyleSheet('css/vendor/prism.css');
            }
        });
        new codeView().attach(document.getElementById('demo-code'));
    }

    demoJS();
    })();

</script>

